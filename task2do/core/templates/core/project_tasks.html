<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Project Tasks</title>
    <style>
        /* Center content vertically and horizontally */
        html, body {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        /* Adjust margin and padding for better spacing */
        h1, h3, h4, h5 {
            margin: 10px 0; /* Increased margin at the top and bottom */
        }

        /* Define button styles */
        button {
            color: white; /* Text color */
            font-size: 15px; /* Font size */
            border: 2px solid darkblue; /* Blue border */
            border-radius: 5px; /* Rounded corners */
            padding: 10px 20px; /* Padding */
            margin: 10px; /* Margin */
            background-color: cornflowerblue; /* Blue background */
            cursor: pointer; /* Change cursor on hover */
            transition: background-color 0.3s, border-color 0.3s; /* Smooth transition */
        }

        /* Define hover effect */
        button:hover {
            background-color: darkblue; /* Darker blue on hover */
            border-color: darkblue; /* Darker border on hover */
        }

        /* Style past-deadline text */
        .past-deadline {
            color: red;
        }

        /* Style task container */
        .task-container {
            border: 1px solid black;
            margin: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Project Tasks - {{ project.name }}</h1>

    <h3>Task Details</h3>
    <h4>Active Tasks</h4>
    {% for task in active_tasks %}
        <div class="task-container">
            <h5>Task Name: {{ task.title }}</h5>
            <p>Due Date: {{ task.due_date }}</p>
            <p>Assigned Worker: {{ task.assigned_to.personal_data.user.username }} - {{ task.assigned_to.personal_data.user.first_name }} {{ task.assigned_to.personal_data.user.last_name }}</p>
            <p>Status: {{ task.status }}</p>
            <button onclick="window.location.href='{% url 'task_editing_screen_manager' task.id %}'">Edit Task</button>
            <button onclick="window.location.href='{% url 'task_display_manager' task.id %}'">View Task</button>
        </div>
    {% endfor %}
    {% for task in active_tasks_past_deadline %}
        <div class="task-container past-deadline">
            <h5>Task Name: {{ task.title }}</h5>
            <p>Due Date: {{ task.due_date }}</p>
            <p>Assigned Worker: {{ task.assigned_to.personal_data.user.username }} - {{ task.assigned_to.personal_data.user.first_name }} {{ task.assigned_to.personal_data.user.last_name }}</p>
            <p>Status: {{ task.status }}</p>
            <button onclick="window.location.href='{% url 'task_editing_screen_manager' task.id %}'">Edit Task</button>
            <button onclick="window.location.href='{% url 'task_display_manager' task.id %}'">View Task</button>
        </div>
    {% endfor %}
    <h4>Inactive Tasks</h4>
    {% for task in inactive_tasks %}
        <div class="task-container">
            <h5>Task Name: {{ task.title }}</h5>
            <p>Due Date: {{ task.due_date }}</p>
            <p>Assigned Worker: {{ task.assigned_to.personal_data.user.username }} - {{ task.assigned_to.personal_data.user.first_name }} {{ task.assigned_to.personal_data.user.last_name }}</p>
            <p>Status: {{ task.status }}</p>
            <button onclick="window.location.href='{% url 'task_editing_screen_manager' task.id %}'">Edit Task</button>
            <button onclick="window.location.href='{% url 'task_display_manager' task.id %}'">View Task</button>
        </div>
    {% endfor %}
    {% for task in inactive_tasks_past_deadline %}
        <div class="task-container">
            <h5>Task Name: {{ task.title }}</h5>
            <p>Due Date: {{ task.due_date }}</p>
            <p>Assigned Worker: {{ task.assigned_to.personal_data.user.username }} - {{ task.assigned_to.personal_data.user.first_name }} {{ task.assigned_to.personal_data.user.last_name }}</p>
            <p>Status: {{ task.status }}</p>
            <button onclick="window.location.href='{% url 'task_editing_screen_manager' task.id %}'">Edit Task</button>
            <button onclick="window.location.href='{% url 'task_display_manager' task.id %}'">View Task</button>
        </div>
    {% endfor %}

    <button onclick="location.href='{% url 'task_creation_screen' project.id %}'">Create New Task</button>
    <button onclick="location.href='{% url 'task_display_manager' project.id %}'">Back to Project</button>
</body>
</html>
